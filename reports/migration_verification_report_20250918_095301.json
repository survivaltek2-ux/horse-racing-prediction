{
  "summary": {
    "overall_status": "FAIL",
    "total_tests": 6,
    "passed_tests": 0,
    "failed_tests": 6,
    "warning_tests": 0,
    "data_integrity_score": 0,
    "performance_improvement": 0,
    "migration_timestamp": "2025-09-18 08:53:01.463666",
    "verification_timestamp": "2025-09-18 09:53:01.463672"
  },
  "detailed_results": [
    {
      "test_name": "Data Completeness",
      "status": "FAIL",
      "message": "Data completeness verification failed: (psycopg2.errors.UndefinedTable) relation \"races\" does not exist\nLINE 1: SELECT COUNT(*) FROM races\n                             ^\n\n[SQL: SELECT COUNT(*) FROM races]\n(Background on this error at: https://sqlalche.me/e/20/f405)",
      "details": {
        "error": "(psycopg2.errors.UndefinedTable) relation \"races\" does not exist\nLINE 1: SELECT COUNT(*) FROM races\n                             ^\n\n[SQL: SELECT COUNT(*) FROM races]\n(Background on this error at: https://sqlalche.me/e/20/f405)"
      },
      "timestamp": "2025-09-18 09:53:01.428734",
      "duration_ms": 16.994714736938477,
      "expected": null,
      "actual": null
    },
    {
      "test_name": "Schema Structure",
      "status": "FAIL",
      "message": "Schema structure issues: Missing tables: api_credentials, horses, users, races, predictions; Tables without primary keys: horses, users, api_credentials, predictions, races",
      "details": {
        "tables": [],
        "columns": {},
        "constraints": {},
        "indexes": {}
      },
      "timestamp": "2025-09-18 09:53:01.455616",
      "duration_ms": 26.522159576416016,
      "expected": null,
      "actual": null
    },
    {
      "test_name": "Data Integrity",
      "status": "FAIL",
      "message": "Data integrity verification failed: (psycopg2.errors.UndefinedTable) relation \"predictions\" does not exist\nLINE 2:                     SELECT COUNT(*) FROM predictions p\n                                                 ^\n\n[SQL: \n                    SELECT COUNT(*) FROM predictions p\n                    LEFT JOIN races r ON p.race_id = r.id\n                    WHERE r.id IS NULL\n                ]\n(Background on this error at: https://sqlalche.me/e/20/f405)",
      "details": {
        "error": "(psycopg2.errors.UndefinedTable) relation \"predictions\" does not exist\nLINE 2:                     SELECT COUNT(*) FROM predictions p\n                                                 ^\n\n[SQL: \n                    SELECT COUNT(*) FROM predictions p\n                    LEFT JOIN races r ON p.race_id = r.id\n                    WHERE r.id IS NULL\n                ]\n(Background on this error at: https://sqlalche.me/e/20/f405)"
      },
      "timestamp": "2025-09-18 09:53:01.457438",
      "duration_ms": 1.4319419860839844,
      "expected": null,
      "actual": null
    },
    {
      "test_name": "Performance Comparison",
      "status": "FAIL",
      "message": "Performance comparison failed: (psycopg2.errors.UndefinedTable) relation \"races\" does not exist\nLINE 1: SELECT COUNT(*) FROM races\n                             ^\n\n[SQL: SELECT COUNT(*) FROM races]\n(Background on this error at: https://sqlalche.me/e/20/f405)",
      "details": {
        "error": "(psycopg2.errors.UndefinedTable) relation \"races\" does not exist\nLINE 1: SELECT COUNT(*) FROM races\n                             ^\n\n[SQL: SELECT COUNT(*) FROM races]\n(Background on this error at: https://sqlalche.me/e/20/f405)"
      },
      "timestamp": "2025-09-18 09:53:01.459428",
      "duration_ms": 1.6009807586669922,
      "expected": null,
      "actual": null
    },
    {
      "test_name": "Functional Testing",
      "status": "FAIL",
      "message": "Functional operations failed: insert, join, aggregate",
      "details": {
        "insert": {
          "status": "failed",
          "error": "(psycopg2.errors.UndefinedTable) relation \"races\" does not exist\nLINE 2:                         INSERT INTO races (race_name, race_d...\n                                            ^\n\n[SQL: \n                        INSERT INTO races (race_name, race_date, track_name, race_type, distance, surface)\n                        VALUES ('Test Race Verification', CURRENT_DATE, 'Test Track', 'flat', 1200.0, 'dirt')\n                        RETURNING id\n                    ]\n(Background on this error at: https://sqlalche.me/e/20/f405)"
        },
        "join": {
          "status": "failed",
          "error": "(psycopg2.errors.InFailedSqlTransaction) current transaction is aborted, commands ignored until end of transaction block\n\n[SQL: \n                        SELECT COUNT(*)\n                        FROM races r\n                        LEFT JOIN predictions p ON r.id = p.race_id\n                        LEFT JOIN horses h ON p.horse_id = h.id\n                    ]\n(Background on this error at: https://sqlalche.me/e/20/2j85)"
        },
        "aggregate": {
          "status": "failed",
          "error": "(psycopg2.errors.InFailedSqlTransaction) current transaction is aborted, commands ignored until end of transaction block\n\n[SQL: \n                        SELECT \n                            COUNT(*) as total_races,\n                            AVG(distance) as avg_distance,\n                            MIN(race_date) as earliest_race,\n                            MAX(race_date) as latest_race\n                        FROM races\n                        WHERE distance IS NOT NULL\n                    ]\n(Background on this error at: https://sqlalche.me/e/20/2j85)"
        }
      },
      "timestamp": "2025-09-18 09:53:01.462525",
      "duration_ms": 2.482891082763672,
      "expected": null,
      "actual": null
    },
    {
      "test_name": "Data Consistency",
      "status": "FAIL",
      "message": "Data consistency verification failed: __init__() got multiple values for argument 'schema'",
      "details": {
        "error": "__init__() got multiple values for argument 'schema'"
      },
      "timestamp": "2025-09-18 09:53:01.462910",
      "duration_ms": 0.10180473327636719,
      "expected": null,
      "actual": null
    }
  ],
  "configuration": {
    "databases": {
      "sqlite": {
        "path": "database.db"
      },
      "postgresql": {
        "host": "localhost",
        "port": 5432,
        "database": "hrp_database",
        "username": "hrp_app",
        "password": "password"
      }
    },
    "verification": {
      "data_completeness": true,
      "schema_structure": true,
      "data_integrity": true,
      "performance_comparison": true,
      "functional_testing": true,
      "application_compatibility": true
    },
    "thresholds": {
      "data_completeness_percent": 99.9,
      "performance_improvement_percent": 20,
      "max_acceptable_variance_percent": 0.1
    },
    "tables": [
      "races",
      "horses",
      "predictions",
      "users",
      "api_credentials"
    ],
    "sample_size": 1000,
    "performance_queries": [
      "SELECT COUNT(*) FROM races",
      "SELECT COUNT(*) FROM horses",
      "SELECT COUNT(*) FROM predictions",
      "SELECT r.race_name, h.horse_name, p.confidence \n                   FROM races r \n                   JOIN predictions p ON r.id = p.race_id \n                   JOIN horses h ON p.horse_id = h.id \n                   LIMIT 100"
    ]
  },
  "verification_metadata": {
    "verifier_version": "1.0",
    "python_version": "3.9.6 (default, Aug  8 2025, 19:06:38) \n[Clang 17.0.0 (clang-1700.3.19.1)]",
    "verification_duration_seconds": 0.122503
  }
}