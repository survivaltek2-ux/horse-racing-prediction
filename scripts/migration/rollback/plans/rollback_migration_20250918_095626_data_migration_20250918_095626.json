{
  "plan_id": "rollback_migration_20250918_095626_data_migration_20250918_095626",
  "migration_id": "migration_20250918_095626",
  "created_at": "2025-09-18 09:56:26.122140",
  "target_phase": "RollbackPhase.DATA_MIGRATION",
  "steps": [
    {
      "step_id": "clear_migration_logs",
      "phase": "RollbackPhase.DATA_MIGRATION",
      "action": "RollbackAction.CLEANUP_FILES",
      "description": "Clear data migration logs and temporary files",
      "command": "rm -rf logs/data_migration_* temp/migration_*",
      "sql_script": null,
      "backup_file": null,
      "config_file": null,
      "dependencies": [],
      "timeout": 300,
      "critical": false,
      "executed": false,
      "success": false,
      "error_message": null,
      "execution_time": null
    },
    {
      "step_id": "drop_postgresql_schema",
      "phase": "RollbackPhase.SCHEMA_CREATION",
      "action": "RollbackAction.RESTORE_SCHEMA",
      "description": "Drop PostgreSQL schema and objects",
      "command": null,
      "sql_script": "DROP SCHEMA IF EXISTS public CASCADE; CREATE SCHEMA public;",
      "backup_file": null,
      "config_file": null,
      "dependencies": [],
      "timeout": 300,
      "critical": true,
      "executed": false,
      "success": false,
      "error_message": null,
      "execution_time": null
    },
    {
      "step_id": "cleanup_migration_artifacts",
      "phase": "RollbackPhase.SCHEMA_CREATION",
      "action": "RollbackAction.CLEANUP_FILES",
      "description": "Clean up migration artifacts and temporary files",
      "command": "rm -rf temp/migration_* logs/migration_temp_*",
      "sql_script": null,
      "backup_file": null,
      "config_file": null,
      "dependencies": [],
      "timeout": 300,
      "critical": false,
      "executed": false,
      "success": false,
      "error_message": null,
      "execution_time": null
    },
    {
      "step_id": "reset_permissions",
      "phase": "RollbackPhase.SCHEMA_CREATION",
      "action": "RollbackAction.CLEANUP_FILES",
      "description": "Reset file permissions",
      "command": "chmod -R 644 config/ && chmod +x scripts/migration/rollback/*.py",
      "sql_script": null,
      "backup_file": null,
      "config_file": null,
      "dependencies": [],
      "timeout": 300,
      "critical": false,
      "executed": false,
      "success": false,
      "error_message": null,
      "execution_time": null
    }
  ],
  "metadata": {
    "backup_info": {},
    "source_db_uri": "sqlite:///database.db",
    "target_db_uri": "postgresql://hrp_app:password@localhost:5432/hrp_database"
  },
  "executed": false,
  "success": false,
  "execution_start": null,
  "execution_end": null
}